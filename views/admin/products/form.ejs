<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./../includes/head') %>
</head>

<body class="min-h-screen">
    <%- include('./../includes/header') %>
        <main class="py-4">
            <div class="container mx-auto">
                <div class="flex justify-end">
                    <% if(product?._id) { %>
                        <button type="button" class="btn btn-outline btn-error" onclick="deleteConfirmation.showModal()">
                            Delete
                        </button>
                        <dialog id="deleteConfirmation" class="modal">
                            <div class="modal-box">
                                <h3 class="font-bold text-lg">
                                    Are your sure you want to delete?
                                </h3>
                                <p class="py-4">
                                    This action is irreversible and can't be undone
                                </p>
                                <div class="modal-action">
                                    <form method="dialog">
                                        <button class="btn">Cancel</button>
                                      </form>
                                    <form method="POST" action="delete">
                                        <button type="submit" class="btn btn-error btn-outline">Confirm</button>
                                    </form>
                                </div>
                            </div>
                        </dialog>
                        <% } %>
                </div>
                <div class="card w-full bg-base-200 shadow-xl my-4">
                    <div class="card-body">
                        <form id="products-form" method="POST">

                            <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-4">
                                <label class="form-control w-full">
                                    <div class="label">
                                        <span class="label-text">
                                            Sku
                                        </span>
                                    </div>
                                    <input type="text" class="input input-bordered w-full" name="sku"
                                        value="<%= product?.sku %>" />
                                </label>
                                <label class="form-control w-full">
                                    <div class="label">
                                        <span class="label-text">
                                            Title
                                        </span>
                                    </div>
                                    <input type="text" class="input input-bordered w-full" name="title"
                                        value="<%= product?.title %>" />
                                </label>
                                <label class="form-control w-full">
                                    <div class="label">
                                        <span class="label-text">
                                            Link Url
                                        </span>
                                    </div>
                                    <input type="text" class="input input-bordered w-full" name="imageUrl"
                                        value="<%= product?.imageUrl %>" />
                                </label>
                                <label class="form-control w-full">
                                    <div class="label">
                                        <span class="label-text">
                                            Price
                                        </span>
                                    </div>
                                    <input type="number" class="input input-bordered w-full" name="price"
                                        value="<%= product?.price %>" />
                                </label>
                                <label class="col-span-2 form-control w-full">
                                    <div class="label">
                                        <span class="label-text" value="<%= product?.description %>">
                                            Description
                                        </span>
                                    </div>
                                    <textarea class="textarea textarea-bordered w-full" name="description"></textarea>
                                </label>
                            </div>
                        </form>
                        <div class="card-actions justify-end mt-4">
                            <a href="/admin/products" class="btn">
                                Cancel
                            </a>
                            <button type="submit" form="products-form" class="btn btn-primary btn-outline">
                                <% if(product?._id) { %>
                                    Update
                                    <% } else { %>
                                        Create
                                        <% } %>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <%- include('./../includes/footer') %>
</body>

</html>